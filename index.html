<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>المُصرّف الذكي للأفعال الفارسية (نسخة VIP)</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&family=Vazirmatn:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --card-bg-color: rgba(255, 255, 255, 0.65);
            --primary-color: #4a6cf7;
            --primary-light: #eef2ff;
            --danger-color: #dc3545;
            --danger-light: #f8d7da;
            --text-dark: #1e293b;
            --text-light: #637381;
            --border-color: rgba(255, 255, 255, 0.25);
            --shadow-color: rgba(74, 108, 247, 0.15);
        }

        @keyframes animated-gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        *, *::before, *::after {
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        html { height: 100%; overflow: hidden; }

        body {
            display: flex;
            flex-direction: column;
            height: 100%;
            margin: 0;
            font-family: 'Cairo', 'Tahoma', sans-serif;
            font-weight: 400;
            color: var(--text-dark);
            background: linear-gradient(-45deg, #eef2f7, #e0eaff, #d1ecf1, #c5f0e9);
            background-size: 400% 400%;
            animation: animated-gradient 15s ease infinite;
        }

        .persian-text { font-family: 'Vazirmatn', sans-serif; font-weight: 400; }
        .fw-bold { font-weight: 700 !important; }

        .fixed-header, .fixed-footer {
            flex-shrink: 0;
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            z-index: 10;
            border-bottom: 1px solid var(--border-color);
        }
        .fixed-header h1 {
            font-size: 22px;
            font-weight: 700;
            color: var(--primary-color);
            text-align: center;
            margin: 12px 0;
        }
        .fixed-footer { border-bottom: none; border-top: 1px solid var(--border-color); }
        .fixed-footer p { text-align: center; margin: 15px 0; color: var(--text-light); font-size: 14px; }

        #scroll-wrapper { flex-grow: 1; overflow-y: auto; padding: 25px 15px; }

        #main-container {
            background: var(--card-bg-color);
            padding: 30px 35px;
            border-radius: 24px;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            border: 1px solid rgba(255, 255, 255, 0.7);
            box-shadow: 0 10px 40px var(--shadow-color);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            transition: all 0.3s ease;
        }

        h2 {
            font-size: 20px;
            font-weight: 600;
            margin: 25px 0 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary-color);
            color: var(--text-dark);
        }
        h2:first-of-type { margin-top: 0; }
        
        #verb-select, #verb-input {
            width: 100%;
            padding: 14px 18px;
            font-size: 17px;
            border-radius: 10px;
            border: 1px solid rgba(0,0,0,0.1);
            background-color: rgba(255, 255, 255, 0.8);
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        #verb-select:focus, #verb-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px var(--primary-light);
            background-color: #fff;
        }
        #verb-input { direction: ltr; text-align: right; }

        #conjugate-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
            padding: 16px;
            margin-top: 15px;
            font-size: 18px;
            font-weight: 600;
            color: #fff;
            background: linear-gradient(45deg, var(--primary-color), #6a82fb);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        #conjugate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(74, 108, 247, 0.3);
        }
        #conjugate-btn:active { transform: translateY(0); }
        #conjugate-btn .loader {
            width: 18px; height: 18px;
            border: 2px solid #fff;
            border-bottom-color: transparent;
            border-radius: 50%;
            display: none;
            animation: rotation 1s linear infinite;
        }
        @keyframes rotation { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        #results-container {
            margin-top: 25px;
            transition: all 0.5s ease;
        }
        .hidden-results {
            opacity: 0;
            transform: translateY(20px);
            max-height: 0;
            overflow: hidden;
        }
        .visible-results {
            opacity: 1;
            transform: translateY(0);
            max-height: 1500px; /* A large enough value */
        }
        
        .notification {
            text-align: center;
            margin-bottom: 20px;
            padding: 14px;
            border-radius: 10px;
            display: none;
        }
        #correction-notice { background-color: var(--primary-light); color: var(--primary-color); border: 1px solid var(--primary-color); }
        #verb-info { background-color: #f8f9fa; border: 1px solid rgba(0,0,0,0.1); font-size: 15px; }
        #error-notice { background-color: var(--danger-light); color: var(--danger-color); border: 1px solid var(--danger-color); }
        
        .table-responsive { width: 100%; overflow-x: auto; border: 1px solid rgba(0,0,0,0.1); border-radius: 12px; }
        #conjugation-table {
            width: 100%;
            border-collapse: collapse;
        }
        #conjugation-table th, #conjugation-table td {
            border: none;
            padding: 14px;
            text-align: center;
            font-size: 16px;
            vertical-align: middle;
        }
        #conjugation-table th {
            background-color: var(--primary-color);
            color: white;
            font-weight: 600;
        }
        #conjugation-table tbody tr:nth-child(even) { background-color: rgba(238, 242, 255, 0.7); }
        #conjugation-table tbody tr:hover { background-color: rgba(226, 232, 240, 0.8); }
        #conjugation-table td.pronoun-col { font-weight: 600; color: var(--text-dark); }
        #conjugation-table td small { color: var(--text-light); font-size: 12px; }

        #examples-section { margin-top: 30px; padding-top: 25px; border-top: 1px dashed rgba(0,0,0,0.1); }
        #example-options { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
        #example-options button {
            background: transparent;
            color: var(--primary-color);
            border: 1px solid var(--primary-color);
            padding: 10px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.2s ease;
        }
        #example-options button:hover { background-color: var(--primary-color); color: #fff; }

        #sentences-container {
            margin-top: 25px;
            padding: 20px;
            background-color: #f8f9fa;
            border: 1px solid rgba(0,0,0,0.1);
            border-radius: 12px;
            display: none;
        }
        #sentences-container ul { list-style-type: none; padding: 0; margin: 0; }
        #sentences-container li { font-size: 17px; padding: 12px 0; border-bottom: 1px solid #e9ecef; }
        #sentences-container li:last-child { border-bottom: none; }
        .arabic-translation { color: var(--text-light); font-size: 14px; margin-right: 10px;}

        @media (max-width: 768px) {
            #scroll-wrapper { padding: 20px 10px; }
            .fixed-header h1 { font-size: 20px; }
            #main-container { padding: 20px 15px; }
            h2 { font-size: 18px; }
        }
    </style>
</head>
<body>
    <header class="fixed-header"><h1 class="persian-text">المُصرّف الذكي للأفعال الفارسية</h1></header>
    
    <div id="scroll-wrapper">
        <div id="main-container">
            <div id="controls-container">
                <h2 class="persian-text">۱. انتخاب از لیست</h2>
                <div class="input-section"><select id="verb-select" class="persian-text"></select></div>
                
                <h2 class="persian-text">۲. یا نوشتن مصدر فعل</h2>
                <div class="input-section">
                    <input type="text" id="verb-input" class="persian-text" placeholder="اكتب أي مصدر فعل... سيتم تصحيح الحروف تلقائياً">
                    <button id="conjugate-btn">
                        <span id="btn-text">صَرّف الفعل</span>
                        <div class="loader"></div>
                    </button>
                </div>
            </div>
            
            <div id="error-notice" class="notification"></div>
            <div id="results-container" class="hidden-results">
                <div id="correction-notice" class="notification"></div>
                <div id="verb-info" class="notification"></div>
                <div class="table-responsive"><table id="conjugation-table"><thead ><tr><th class="pronoun-col">الضمير</th><th class="persian-text">ماضی ساده</th><th class="persian-text">حال اخباری</th><th class="persian-text">امر</th></tr></thead><tbody id="table-body" class="persian-text"></tbody></table></div>
                <div id="examples-section">
                    <div id="example-options">
                        <button id="present-examples-btn" class="persian-text">جملات حال (مضارع)</button>
                        <button id="past-examples-btn" class="persian-text">جملات گذشته (ماضی)</button>
                    </div>
                    <div id="sentences-container"></div>
                </div>
            </div>
        </div>
    </div>

    <footer class="fixed-footer"><p>تم التطوير بواسطة احمد فلاح |  2025</p></footer>

    <script>
        // --- DATA ---
        const pronouns = [ { fa: "من", ar: "أنا" }, { fa: "تو", ar: "أنت" }, { fa: "او", ar: "هو/هي" }, { fa: "ما", ar: "نحن" }, { fa: "شما", ar: "أنتم" }, { fa: "آنها", ar: "هم" } ];
        const verbStems = {"آفریدن":"آفرین","آمدن":"آ","آوردن":"آور","انداختن":"انداز","ایستادن":"ایست","باز کردن":"باز کن","بازی کردن":"بازی کن","باور کردن":"باور کن","بخشیدن":"بخش","بردن":"بر","بستن":"بند","بلند کردن":"بلند کن","به یاد آوردن":"به یاد آور","بودن":"باش","پذیرفتن":"پذیر","پریدن":"پر","پرسیدن":"پرس","پیدا کردن":"پیدا کن","پوشیدن":"پوش","ترسیدن":"ترس","تنظیم کردن":"تنظیم کن","توانستن":"توان","توضیح دادن":"توضیح ده","جنگیدن":"جنگ","حرکت کردن":"حرکت کن","خواستن":"خواه","خواندن":"خوان","خریدن":"خر","خندیدن":"خند","خوابیدن":"خواب","خوردن":"خور","دادن":"ده","داشتن":"دار","دانستن":"دان","دنبال کردن":"دنبال کن","دویدن":"دو","دیدن":"بین","راه رفتن":"راه رو","رفتن":"رو","زنگ زدن":"زنگ زن","زندگی کردن":"زندگی کن","ساختن":"ساز","ستدن":"ستان","سخن گفتن":"سخن گو","سعی کردن":"سعی کن","سفر کردن":"سفر کن","شناختن":"شناس","شنیدن":"شنو","شدن":"شو","شروع کردن":"شروع کن","شکستن":"شکن","صحبت کردن":"صحبت کن","فروختن":"فروش","فکر کردن":"فکر کن","فهمیدن":"فهم","کار کردن":"کار کن","کشتن":"کش","کمک کردن":"کمک کن","کنار زدن":"کنار زن","گذاشتن":"گذار","گرفتن":"گیر","گفتن":"گو","گم شدن":"گم شو","گم کردن":"گم کن","گوش دادن":"گوش ده","مردن":"میر","نشستن":"نشین","نگاه کردن":"نگاه کن","نوشتن":"نویس","یاد دادن":"یاد ده","یاد گرفتن":"یاد گیر","انتخاب کردن":"انتخاب کن","احساس کردن":"احساس کن","استفاده کردن":"استفاده کن"};
        const verbMeanings = {"آفریدن":"الخلق","آمدن":"المجيء","آوردن":"الإحضار","انداختن":"الرمي","ایستادن":"الوقوف","باز کردن":"الفتح","بازی کردن":"اللعب","باور کردن":"التصديق","بخشیدن":"المسامحة","بردن":"الأخذ","بستن":"الإغلاق","بلند کردن":"الرفع","به یاد آوردن":"التذكر","بودن":"الكينونة","پذیرفتن":"القبول","پریدن":"القفز","پرسیدن":"السؤال","پیدا کردن":"الإيجاد","پوشیدن":"اللبس","ترسیدن":"الخوف","تنظیم کردن":"التنظيم","توانستن":"الاستطاعة","توضیح دادن":"الشرح","جنگیدن":"القتال","حرکت کردن":"التحرك","خواستن":"الإرادة/الطلب","خواندن":"القراءة","خریدن":"الشراء","خندیدن":"الضحك","خوابیدن":"النوم","خوردن":"الأكل","دادن":"الإعطاء","داشتن":"الملكية","دانستن":"المعرفة","دنبال کردن":"المتابعة","دویدن":"الركض","دیدن":"الرؤية","راه رفتن":"المشي","رفتن":"الذهاب","زنگ زدن":"الاتصال","زندگی کردن":"العيش","ساختن":"الصنع","ستدن":"الأخذ (قديم)","سخن گفتن":"التحدث","سعی کردن":"المحاولة","سفر کردن":"السفر","شناختن":"التعرف","شنیدن":"السماع","شدن":"الصيورة","شروع کردن":"البدء","شکستن":"الكسر","صحبت کردن":"التكلم","فروختن":"البيع","فکر کردن":"التفكير","فهمیدن":"الفهم","کار کردن":"العمل","کشتن":"القتل","کمک کردن":"المساعدة","کنار زدن":"الإزاحة","گذاشتن":"الوضع","گرفتن":"الأخذ","گفتن":"القول","گم شدن":"الضياع","گم کردن":"الإضاعة","گوش دادن":"الاستماع","مردن":"الموت","نشستن":"الجلوس","نگاه کردن":"النظر","نوشتن":"الكتابة","یاد دادن":"التعليم","یاد گرفتن":"التعلم","انتخاب کردن":"الاختيار","احساس کردن":"الإحساس","استفاده کردن":"الاستخدام"};
        
        // --- قاموس الجمل المحسن والمدقق ---
        const sentenceTemplates = {
            "آفریدن": { phrase: "یک اثر هنری را", ar_phrase: "عملاً فنياً", ar_verb: { past: ["خلقتُ","خلقتَ","خلق","خلقنا","خلقتم","خلقوا"], present: ["أخلقُ","تخلقُ","يخلقُ","نخلقُ","تخلقون","يخلقون"] } },
            "آمدن": { phrase: "به مهمانی", ar_phrase: "إلى الحفلة", ar_verb: { past: ["أتيتُ","أتيتَ","أتى","أتينا","أتيتم","أتوا"], present: ["آتي","تأتي","يأتي","نأتي","تأتون","يأتون"] } },
            "آوردن": { phrase: "خبرهای خوب را", ar_phrase: "أخباراً جيدة", ar_verb: { past: ["أحضرتُ","أحضرتَ","أحضر","أحضرنا","أحضرتم","أحضروا"], present: ["أُحضرُ","تُحضرُ","يُحضرُ","نُحضرُ","تُحضرون","يُحضرون"] } },
            "انداختن": { phrase: "نگاهی سریع", ar_phrase: "نظرة سريعة", ar_verb: { past: ["ألقيتُ","ألقيتَ","ألقى","ألقينا","ألقيتم","ألقوا"], present: ["أُلقي","تُلقي","يُلقي","نُلقي","تُلقون","يُلقون"] } },
            "احساس کردن": { phrase: "شادی زیادی", ar_phrase: "سعادة كبيرة", ar_verb: { past: ["أحسستُ","أحسستَ","أحس","أحسسنا","أحسستم","أحسوا"], present: ["أحسُ","تحسُ","يحسُ","نحسُ","تحسون","يحسون"] } },
            "استفاده کردن": { phrase: "از کامپیوتر", ar_phrase: "من الحاسوب", ar_verb: { past: ["استخدمتُ","استخدمتَ","استخدم","استخدمنا","استخدمتم","استخدموا"], present: ["أستخدمُ","تستخدمُ","يستخدمُ","نستخدمُ","تستخدمون","يستخدمون"] } },
            "انتخاب کردن": { phrase: "رنگ آبی را", ar_phrase: "اللون الأزرق", ar_verb: { past: ["اخترتُ","اخترتَ","اختار","اخترنا","اخترتم","اختاروا"], present: ["أختارُ","تختارُ","يختارُ","نختارُ","تختارون","يختارون"] } },
            "ایستادن": { phrase: "جلوی آینه", ar_phrase: "أمام المرآة", ar_verb: { past: ["وقفتُ","وقفتَ","وقف","وقفنا","وقفتم","وقفوا"], present: ["أقفُ","تقفُ","يقفُ","نقفُ","تقفون","يقفون"] } },
            "باز کردن": { phrase: "کتاب را", ar_phrase: "الكتاب", ar_verb: { past: ["فتحتُ","فتحتَ","فتح","فتحنا","فتحتم","فتحوا"], present: ["أفتحُ","تفتحُ","يفتحُ","نفتحُ","تفتحون","يفتحون"] } },
            "بازی کردن": { phrase: "در پارک", ar_phrase: "في الحديقة", ar_verb: { past: ["لعبتُ","لعبتَ","لعب","لعبنا","لعبتم","لعبوا"], present: ["ألعبُ","تلعبُ","يلعبُ","نلعبُ","تلعبون","يلعبون"] } },
            "باور کردن": { phrase: "داستان او را", ar_phrase: "قصته", ar_verb: { past: ["صدقتُ","صدقتَ","صدق","صدقنا","صدقتم","صدقوا"], present: ["أصدقُ","تصدقُ","يصدقُ","نصدقُ","تصدقون","يصدقون"] } },
            "بخشیدن": { phrase: "اشتباه دوستم را", ar_phrase: "خطأ صديقي", ar_verb: { past: ["سامحتُ","سامحتَ","سامح","سامحنا","سامحتم","سامحوا"], present: ["أسامحُ","تسامحُ","يسامحُ","نسامحُ","تسامحون","يسامحون"] } },
            "بردن": { phrase: "جایزه اول را", ar_phrase: "الجائزة الأولى", ar_verb: { past: ["فزتُ بـ","فزتَ بـ","فاز بـ","فزنا بـ","فزتم بـ","فازوا بـ"], present: ["أفوز بـ","تفوز بـ","يفوز بـ","نفوز بـ","تفوزون بـ","يفوزون بـ"] } },
            "بستن": { phrase: "در را", ar_phrase: "الباب", ar_verb: { past: ["أغلقتُ","أغلقتَ","أغلق","أغلقنا","أغلقتم","أغلقوا"], present: ["أُغلقُ","تُغلقُ","يُغلقُ","نُغلقُ","تُغلقون","يُغلقون"] } },
            "بلند کردن": { phrase: "صدایم را", ar_phrase: "صوتي", ar_verb: { past: ["رفعتُ","رفعتَ","رفع","رفعنا","رفعتم","رفعوا"], present: ["أرفعُ","ترفعُ","يرفعُ","نرفعُ","ترفعون","يرفعون"] } },
            "به یاد آوردن": { phrase: "یک خاطره قدیمی را", ar_phrase: "ذكرى قديمة", ar_verb: { past: ["تذكرتُ","تذكرتَ","تذكر","تذكرنا","تذكرتم","تذكروا"], present: ["أتذكرُ","تتذكرُ","يتذكرُ","نتذكرُ","تتذكرون","يتذكرون"] } },
            "بودن": { phrase: "خوشحال", ar_phrase: "سعيداً", ar_verb: { past: ["كنتُ","كنتَ","كان","كنا","كنتم","كانوا"], present: ["أكونُ","تكونُ","يكونُ","نكونُ","تكونون","يكونون"] } },
            "پذیرفتن": { phrase: "یک مسئولیت جدید را", ar_phrase: "مسؤولية جديدة", ar_verb: { past: ["قبلتُ","قبلتَ","قبل","قبلنا","قبلتم","قبلوا"], present: ["أقبلُ","تقبلُ","يقبلُ","نقبلُ","تقبلون","يقبلون"] } },
            "پریدن": { phrase: "از خوشحالی", ar_phrase: "من الفرح", ar_verb: { past: ["قفزتُ","قفزتَ","قفز","قفزنا","قفزتم","قفزوا"], present: ["أقفزُ","تقفزُ","يقفزُ","نقفزُ","تقفزون","يقفزون"] } },
            "پرسیدن": { phrase: "یک سوال مهم را", ar_phrase: "سؤالاً مهماً", ar_verb: { past: ["سألتُ","سألتَ","سأل","سألنا","سألتم","سألوا"], present: ["أسألُ","تسألُ","يسألُ","نسألُ","تسألون","يسألون"] } },
            "پیدا کردن": { phrase: "یک راه حل", ar_phrase: "حلاً", ar_verb: { past: ["وجدتُ","وجدتَ","وجد","وجدنا","وجدتم","وجدوا"], present: ["أجدُ","تجدُ","يجدُ","نجدُ","تجدون","يجدون"] } },
            "پوشیدن": { phrase: "لباس رسمی را", ar_phrase: "الملابس الرسمية", ar_verb: { past: ["ارتديتُ","ارتديتَ","ارتدى","ارتدينا","ارتديتم","ارتدوا"], present: ["أرتدي","ترتدي","يرتدي","نرتدي","ترتدون","يرتدون"] } },
            "ترسیدن": { phrase: "از ارتفاع", ar_phrase: "من المرتفعات", ar_verb: { past: ["خفتُ","خفتَ","خاف","خفنا","خفتم","خافوا"], present: ["أخافُ","تخافُ","يخافُ","نخافُ","تخافون","يخافون"] } },
            "تنظیم کردن": { phrase: "قرار ملاقات را", ar_phrase: "الموعد", ar_verb: { past: ["نظمتُ","نظمتَ","نظم","نظمنا","نظمتم","نظموا"], present: ["أنظمُ","تنظمُ","ينظمُ","ننظمُ","تنظمون","ينظمون"] } },
            "توانستن": { phrase: "مشکل را حل کند", ar_phrase: "أن يحل المشكلة", ar_verb: { past: ["استطعتُ","استطعتَ","استطاع","استطعنا","استطعتم","استطاعوا"], present: ["أستطيعُ","تستطيعُ","يستطيعُ","نستطيعُ","تستطيعون","يستطيعون"] } },
            "توضیح دادن": { phrase: "ایده خود را", ar_phrase: "فكرته", ar_verb: { past: ["شرحتُ","شرحتَ","شرح","شرحنا","شرحتم","شرحوا"], present: ["أشرحُ","تشرحُ","يشرحُ","نشرحُ","تشرحون","يشرحون"] } },
            "جنگیدن": { phrase: "با مشکلات", ar_phrase: "المشاكل", ar_verb: { past: ["صارعتُ","صارعتَ","صارع","صارعنا","صارعتم","صارعوا"], present: ["أصارعُ","تصارعُ","يصارعُ","نصارعُ","تصارعون","يصارعون"] } },
            "حرکت کردن": { phrase: "به سوی هدف", ar_phrase: "نحو الهدف", ar_verb: { past: ["تحركتُ","تحركتَ","تحرك","تحركنا","تحركتم","تحركوا"], present: ["أتحركُ","تتحركُ","يتحركُ","نتحركُ","تتحركون","يتحركون"] } },
            "خواستن": { phrase: "موفقیت", ar_phrase: "النجاح", ar_verb: { past: ["أردتُ","أردتَ","أراد","أردنا","أردتم","أرادوا"], present: ["أريدُ","تريدُ","يريدُ","نريدُ","تريدون","يريدون"] } },
            "خواندن": { phrase: "یک رمان", ar_phrase: "رواية", ar_verb: { past: ["قرأتُ","قرأتَ","قرأ","قرأنا","قرأتم","قرأوا"], present: ["أقرأُ","تقرأُ","يقرأُ","نقرأُ","تقرأون","يقرأون"] } },
            "خریدن": { phrase: "یک هدیه", ar_phrase: "هدية", ar_verb: { past: ["اشتريتُ","اشتريتَ","اشترى","اشترينا","اشتريتم","اشتروا"], present: ["أشتري","تشتري","يشتري","نشتري","تشترون","يشترون"] } },
            "خندیدن": { phrase: "به یک جوک", ar_phrase: "على نكتة", ar_verb: { past: ["ضحكتُ","ضحكتَ","ضحك","ضحكنا","ضحكتم","ضحكوا"], present: ["أضحكُ","تضحكُ","يضحكُ","نضحكُ","تضحكون","يضحكون"] } },
            "خوابیدن": { phrase: "روی تخت", ar_phrase: "على السرير", ar_verb: { past: ["نمتُ","نمتَ","نام","نمنا","نمتم","ناموا"], present: ["أنامُ","تنامُ","ينامُ","ننامُ","تنامون","ينامون"] } },
            "خوردن": { phrase: "یک سیب", ar_phrase: "تفاحة", ar_verb: { past: ["أكلتُ","أكلتَ","أكل","أكلنا","أكلتم","أكلوا"], present: ["آكلُ","تأكلُ","يأكلُ","نأكلُ","تأكلون","يأكلون"] } },
            "دادن": { phrase: "یک کتاب به او", ar_phrase: "كتاباً له", ar_verb: { past: ["أعطيتُ", "أعطيتَ", "أعطى", "أعطينا", "أعطيتم", "أعطوا"], present: ["أعطي", "تعطي", "يعطي", "نعطي", "تعطون", "يعطون"] } },
            "داشتن": { phrase: "یک ایده خوب", ar_phrase: "فكرة جيدة", ar_verb: { past: ["كان لديّ", "كان لديكَ", "كان لديه", "كان لدينا", "كان لديكم", "كان لديهم"], present: ["لديّ", "لديكَ", "لديه", "لدينا", "لديكم", "لديهم"] } },
            "دانستن": { phrase: "حقیقت را", ar_phrase: "الحقيقة", ar_verb: { past: ["عرفتُ","عرفتَ","عرف","عرفنا","عرفتم","عرفوا"], present: ["أعرفُ","تعرفُ","يعرفُ","نعرفُ","تعرفون","يعرفون"] } },
            "دنبال کردن": { phrase: "اخبار را", ar_phrase: "الأخبار", ar_verb: { past: ["تابعتُ","تابعتَ","تابع","تابعنا","تابعتم","تابعوا"], present: ["أتابعُ","تتابعُ","يتابعُ","نتابعُ","تتابعون","يتابعون"] } },
            "دویدن": { phrase: "در مسابقه", ar_phrase: "في السباق", ar_verb: { past: ["ركضتُ","ركضتَ","ركض","ركضنا","ركضتم","ركضوا"], present: ["أركضُ","تركضُ","يركضُ","نركضُ","تركضون","يركضون"] } },
            "دیدن": { phrase: "یک فیلم", ar_phrase: "فيلماً", ar_verb: { past: ["شاهدتُ","شاهدتَ","شاهد","شاهدنا","شاهدتم","شاهدوا"], present: ["أُشاهد","تُشاهد","يُشاهد","نُشاهد","تُشاهدون","يُشاهدون"] } },
            "راه رفتن": { phrase: "در ساحل", ar_phrase: "على الشاطئ", ar_verb: { past: ["مشيتُ","مشيتَ","مشى","مشينا","مشيتم","مشوا"], present: ["أمشي","تمشي","يمشي","نمشي","تمشون","يمشون"] } },
            "رفتن": { phrase: "به دانشگاه", ar_phrase: "إلى الجامعة", ar_verb: { past: ["ذهبتُ","ذهبتَ","ذهب","ذهبنا","ذهبتم","ذهبوا"], present: ["أذهبُ","تذهبُ","يذهبُ","نذهبُ","تذهبون","يذهبون"] } },
            "زنگ زدن": { phrase: "به خانواده", ar_phrase: "بالعائلة", ar_verb: { past: ["اتصلتُ","اتصلتَ","اتصل","اتصلنا","اتصلتم","اتصلوا"], present: ["أتصلُ","تتصلُ","يتصلُ","نتصلُ","تتصلون","يتصلون"] } },
            "زندگی کردن": { phrase: "در یک شهر بزرگ", ar_phrase: "في مدينة كبيرة", ar_verb: { past: ["عشتُ","عشتَ","عاش","عشنا","عشتم","عاشوا"], present: ["أعيشُ","تعيشُ","يعيشُ","نعيشُ","تعيشون","يعيشون"] } },
            "ساختن": { phrase: "یک خانه زیبا", ar_phrase: "بيتاً جميلاً", ar_verb: { past: ["بنيتُ","بنيتَ","بنى","بنينا","بنيتم","بنوا"], present: ["أبني","تبني","يبني","نبني","تبنون","يبنون"] } },
            "سعی کردن": { phrase: "بهترین باشد", ar_phrase: "أن يكون الأفضل", ar_verb: { past: ["حاولتُ","حاولتَ","حاول","حاولنا","حاولتم","حاولوا"], present: ["أحاولُ","تحاولُ","يحاولُ","نحاولُ","تحاولون","يحاولون"] } },
            "سفر کردن": { phrase: "به یک کشور جدید", ar_phrase: "إلى بلد جديد", ar_verb: { past: ["سافرتُ","سافرتَ","سافر","سافرنا","سافرتم","سافروا"], present: ["أسافرُ","تسافرُ","يسافرُ","نسافرُ","تسافرون","يسافرون"] } },
            "شناختن": { phrase: "دوستان واقعی را", ar_phrase: "الأصدقاء الحقيقيين", ar_verb: { past: ["عرفتُ","عرفتَ","عرف","عرفنا","عرفتم","عرفوا"], present: ["أعرفُ","تعرفُ","يعرفُ","نعرفُ","تعرفون","يعرفون"] } },
            "شنیدن": { phrase: "صدای موسیقی را", ar_phrase: "صوت الموسيقى", ar_verb: { past: ["سمعتُ","سمعتَ","سمع","سمعنا","سمعتم","سمعوا"], present: ["أسمعُ","تسمعُ","يسمعُ","نسمعُ","تسمعون","يسمعون"] } },
            "شدن": { phrase: "یک معلم", ar_phrase: "معلماً", ar_verb: { past: ["أصبحتُ","أصبحتَ","أصبح","أصبحنا","أصبحتم","أصبحوا"], present: ["أُصبحُ","تُصبحُ","يُصبحُ","نُصبحُ","تُصبحون","يُصبحون"] } },
            "شروع کردن": { phrase: "یک فصل جدید", ar_phrase: "فصلاً جديداً", ar_verb: { past: ["بدأتُ","بدأتَ","بدأ","بدأنا","بدأتم","بدأوا"], present: ["أبدأُ","تبدأُ","يبدأُ","نبدأُ","تبدأون","يبدأون"] } },
            "شکستن": { phrase: "یک لیوان را", ar_phrase: "كأساً", ar_verb: { past: ["كسرتُ","كسرتَ","كسر","كسرنا","كسرتم","كسروا"], present: ["أكسرُ","تكسرُ","يكسرُ","نكسرُ","تكسرون","يكسرون"] } },
            "صحبت کردن": { phrase: "درباره آینده", ar_phrase: "عن المستقبل", ar_verb: { past: ["تحدثتُ","تحدثتَ","تحدث","تحدثنا","تحدثتم","تحدثوا"], present: ["أتحدثُ","تتحدثُ","يتحدثُ","نتحدثُ","تتحدثون","يتحدثون"] } },
            "فروختن": { phrase: "ماشین قدیمی را", ar_phrase: "السيارة القديمة", ar_verb: { past: ["بعتُ","بعتَ","باع","بعنا","بعتم","باعوا"], present: ["أبيعُ","تبيعُ","يبيعُ","نبيعُ","تبيعون","يبيعون"] } },
            "فکر کردن": { phrase: "به گذشته", ar_phrase: "في الماضي", ar_verb: { past: ["فكرتُ", "فكرتَ", "فكر", "فكرنا", "فكرتم", "فكروا"], present: ["أفكرُ", "تفكرُ", "يفكرُ", "نفكرُ", "تفكرون", "يفكرون"] } },
            "فهمیدن": { phrase: "درس را به خوبی", ar_phrase: "الدرس جيداً", ar_verb: { past: ["فهمتُ","فهمتَ","فهم","فهمنا","فهمتم","فهموا"], present: ["أفهمُ","تفهمُ","يفهمُ","نفهمُ","تفهمون","يفهمون"] } },
            "کار کردن": { phrase: "در یک شرکت", ar_phrase: "في شركة", ar_verb: { past: ["عملتُ", "عملتَ", "عمل", "عملنا", "عملتم", "عملوا"], present: ["أعملُ", "تعملُ", "يعملُ", "نعملُ", "تعملون", "يعملون"] } },
            "کشتن": { phrase: "وقت را", ar_phrase: "الوقت", ar_verb: { past: ["قتلتُ","قتلتَ","قتل","قتلنا","قتلتم","قتلوا"], present: ["أقتلُ","تقتلُ","يقتلُ","نقتلُ","تقتلون","يقتلون"] } },
            "کمک کردن": { phrase: "به نیازمندان", ar_phrase: "المحتاجين", ar_verb: { past: ["ساعدتُ","ساعدتَ","ساعد","ساعدنا","ساعدتم","ساعدوا"], present: ["أساعدُ","تساعدُ","يساعدُ","نساعدُ","تساعدون","يساعدون"] } },
            "کنار زدن": { phrase: "پرده را", ar_phrase: "الستار", ar_verb: { past: ["أزحتُ","أزحتَ","أزاح","أزحنا","أزحتم","أزاحوا"], present: ["أُزيحُ","تُزيحُ","يُزيحُ","نُزيحُ","تُزيحون","يُزيحون"] } },
            "گذاشتن": { phrase: "کتاب را روی میز", ar_phrase: "الكتاب على الطاولة", ar_verb: { past: ["وضعتُ", "وضعتَ", "وضع", "وضعنا", "وضعتم", "وضعوا"], present: ["أضعُ", "تضعُ", "يضعُ", "نضعُ", "تضعون", "يضعون"] } },
            "گرفتن": { phrase: "یک عکس", ar_phrase: "صورة", ar_verb: { past: ["التقطتُ", "التقطتَ", "التقط", "التقطنا", "التقطتم", "التقطوا"], present: ["ألتقطُ", "تلتقطُ", "يلتقطُ", "نلتقطُ", "تلتقطون", "يلتقطون"] } },
            "گفتن": { phrase: "یک داستان را", ar_phrase: "قصة", ar_verb: { past: ["حكيتُ","حكيتَ","حكى","حكينا","حكيتم","حكوا"], present: ["أحكي","تحكي","يحكي","نحكي","تحكون","يحكون"] } },
            "گم شدن": { phrase: "در جنگل", ar_phrase: "في الغابة", ar_verb: { past: ["ضعتُ","ضعتَ","ضاع","ضعنا","ضعتم","ضاعوا"], present: ["أضيعُ","تضيعُ","يضيعُ","نضيعُ","تضيعون","يضيعون"] } },
            "گم کردن": { phrase: "راه را", ar_phrase: "الطريق", ar_verb: { past: ["أضعتُ", "أضعتَ", "أضاع", "أضعنا", "أضعتم", "أضاعوا"], present: ["أُضيعُ", "تُضيعُ", "يُضيعُ", "نُضيعُ", "تُضيعون", "يُضيعون"] } },
            "گوش دادن": { phrase: "به پادکست", ar_phrase: "للبودكاست", ar_verb: { past: ["استمعتُ", "استمعتَ", "استمع", "استمعنا", "استمعتم", "استمعوا"], present: ["أستمعُ", "تستمعُ", "يستمعُ", "نستمعُ", "تستمعون", "يستمعون"] } },
            "مردن": { phrase: "از خنده", ar_phrase: "من الضحك", ar_verb: { past: ["متُّ","متَّ","مات","متنا","متم","ماتوا"], present: ["أموتُ","تموتُ","يموتُ","نموتُ","تموتون","يموتون"] } },
            "نشستن": { phrase: "کنار پنجره", ar_phrase: "بجانب النافذة", ar_verb: { past: ["جلستُ", "جلستَ", "جلس", "جلسنا", "جلستم", "جلسوا"], present: ["أجلسُ", "تجلسُ", "يجلسُ", "نجلسُ", "تجلسون", "يجلسون"] } },
            "نگاه کردن": { phrase: "به آسمان", ar_phrase: "إلى السماء", ar_verb: { past: ["نظرتُ", "نظرتَ", "نظر", "نظرنا", "نظرتم", "نظروا"], present: ["أنظرُ", "تنظرُ", "ينظرُ", "ننظرُ", "تنظرون", "ينظرون"] } },
            "نوشتن": { phrase: "یک نامه", ar_phrase: "رسالة", ar_verb: { past: ["كتبتُ","كتبتَ","كتب","كتبنا","كتبتم","كتبوا"], present: ["أكتبُ","تكتبُ","يكتبُ","نكتبُ","تكتبون","يكتبون"] } },
            "یاد گرفتن": { phrase: "یک زبان جدید", ar_phrase: "لغة جديدة", ar_verb: { past: ["تعلمتُ", "تعلمتَ", "تعلم", "تعلمنا", "تعلمتم", "تعلموا"], present: ["أتعلمُ", "تتعلمُ", "يتعلمُ", "نتعلمُ", "تتعلمون", "يتعلمون"] } },
            "یاد دادن": { phrase: "یک درس مهم", ar_phrase: "درساً مهماً", ar_verb: { past: ["علمتُ", "علمتَ", "علم", "علمنا", "علمتم", "علموا"], present: ["أُعلمُ", "تُعلمُ", "يُعلمُ", "نُعلمُ", "تُعلمون", "يُعلمون"] } },
            "default": { phrase: "کاری را", ar_phrase: "عملاً ما", ar_verb: null }
        };

        // --- LOGIC ---
        let lastConjugationData = {};
        let sentenceAccessGranted = false; // ** متغير جديد لتتبع صلاحية عرض الجمل **
        
        const elements = {};
        const elementIds = ['verb-select', 'verb-input', 'conjugate-btn', 'btn-text', 'conjugation-table', 'table-body', 'verb-info', 'examples-section', 'present-examples-btn', 'past-examples-btn', 'sentences-container', 'correction-notice', 'error-notice', 'results-container'];
        elementIds.forEach(id => { elements[id.replace(/-(\w)/g, (_, p1) => p1.toUpperCase())] = document.getElementById(id); });
        
        function toggleLoading(isLoading) {
            elements.conjugateBtn.querySelector('.loader').style.display = isLoading ? 'inline-block' : 'none';
            elements.btnText.textContent = isLoading ? 'جارِ التصريف...' : 'صَرّف الفعل';
            elements.conjugateBtn.disabled = isLoading;
        }

        function showResults(show) {
            if (show) {
                elements.errorNotice.style.display = 'none';
                elements.resultsContainer.classList.add('visible-results');
                elements.resultsContainer.classList.remove('hidden-results');
            } else {
                elements.resultsContainer.classList.remove('visible-results');
                elements.resultsContainer.classList.add('hidden-results');
            }
        }

        function showError(message) {
            elements.errorNotice.innerHTML = message;
            elements.errorNotice.style.display = 'block';
            showResults(false);
        }

        function levenshtein(a,b){if(a.length==0)return b.length;if(b.length==0)return a.length;const m=Array(b.length+1).fill(null).map(()=>Array(a.length+1).fill(null));for(let i=0;i<=a.length;i++){m[0][i]=i}for(let j=0;j<=b.length;j++){m[j][0]=j}for(let j=1;j<=b.length;j++){for(let i=1;i<=a.length;i++){const c=a[i-1]===b[j-1]?0:1;m[j][i]=Math.min(m[j][i-1]+1,m[j-1][i]+1,m[j-1][i-1]+c)}}return m[b.length][a.length]}
        function autoCorrect(verb){const allKnownVerbs=[...Object.keys(verbStems)];if(allKnownVerbs.includes(verb))return{correctedVerb:verb,wasCorrected:false};let bestMatch=null,minDistance=2;for(const knownVerb of allKnownVerbs){const distance=levenshtein(verb,knownVerb);if(distance<minDistance){minDistance=distance;bestMatch=knownVerb}}return{correctedVerb:bestMatch||verb,wasCorrected:!!bestMatch}}
        
        function normalizePersianChars(text) {
            if (!text) return "";
            return text.replace(/ي/g, 'ی').replace(/ك/g, 'ک');
        }

        function deriveStems(verbPart) {
            if (!verbPart || !verbPart.endsWith('ن')) return null; const pastStem = verbPart.slice(0, -1); let presentStem = null; if (verbPart.endsWith('اختن')) { presentStem = pastStem.slice(0, -2) + 'از'; } else if (verbPart.endsWith('اشتن')) { presentStem = pastStem.slice(0, -2) + 'ار'; } else if (verbPart.endsWith('افتن')) { presentStem = pastStem.slice(0, -2) + 'اب'; } else if (verbPart.endsWith('وختن')) { presentStem = pastStem.slice(0, -3) + 'وش'; } else if (verbPart.endsWith('ودن')) { if (verbPart.endsWith('سودن')) { presentStem = pastStem.slice(0, -2) + 'ا'; } else { presentStem = pastStem.slice(0, -2) + 'ای'; } } else if (verbPart.endsWith('ادن')) { presentStem = pastStem.slice(0, -1); } else if (verbPart.endsWith('ستن')) { if (verbPart === 'شستن') { presentStem = 'شو'; } else if (verbPart.endsWith('سستن')) { presentStem = pastStem.slice(0, -2) + 'ل'; } else { presentStem = pastStem.slice(0, -1); } } else if (verbPart.endsWith('اندن')) { presentStem = pastStem.slice(0, -2) + 'ان'; } else if (verbPart.endsWith('ردن')) { if (pastStem.endsWith('کرد')) { presentStem = pastStem.slice(0, -2) + 'ن'; } else { presentStem = pastStem.slice(0, -2) + 'ر'; } } else if (verbPart.endsWith('فتن')) { if (verbPart === 'رفتن') { presentStem = 'رو'; } else if (verbPart === 'گرفتن') { presentStem = 'گیر'; } else { presentStem = pastStem.slice(0, -2) + 'ب'; } } else if (verbPart.endsWith('شتن')) { presentStem = pastStem.slice(0, -2) + 'ر'; } else if (verbPart.endsWith('یدن')) { presentStem = pastStem.slice(0, -2); } if (presentStem) { return { pastStem, presentStem }; } return null;
        }

        function conjugate(infinitive) { 
            const finalInfinitive = infinitive.trim(); 
            if (!finalInfinitive) return false; 
            lastConjugationData = { infinitive: finalInfinitive };
            const isCompound = finalInfinitive.includes(' ');
            let nounPart = '', verbPart = finalInfinitive, pastStem, presentStem; 
            if (isCompound) { const parts = finalInfinitive.split(' '); nounPart = parts.slice(0, -1).join(' ') + ' '; verbPart = parts[parts.length - 1]; }
            let stemsFound = false; 
            if (verbStems[finalInfinitive]) { 
                pastStem = verbPart.slice(0, -1); 
                presentStem = verbStems[finalInfinitive].replace(nounPart, ''); 
                stemsFound = true; 
            } else { 
                const derived = deriveStems(verbPart); 
                if (derived) { pastStem = derived.pastStem; presentStem = derived.presentStem; stemsFound = true; } 
            } 
            if (!stemsFound) { 
                showError(`الفعل <strong class="persian-text">"${finalInfinitive}"</strong> شاذ جداً أو غير صحيح. لم يتمكن المحرك الذكي من اشتقاقه.`);
                return false; 
            } 
            const fullPastStem = nounPart + pastStem, fullPresentStem = nounPart + presentStem; 
            elements.verbInfo.innerHTML = `<span class="persian-text">المصدر: <span class="fw-bold">${finalInfinitive}</span></span> | <span class="persian-text">الماضي: <span class="fw-bold">${fullPastStem}</span></span> | <span class="persian-text">المضارع: <span class="fw-bold">${fullPresentStem}</span></span>`; 
            elements.verbInfo.style.display = 'block'; 
            const pastEndings = ['م', 'ی', '', 'یم', 'ید', 'ند'], presentEndings = ['م', 'ی', 'د', 'یم', 'ید', 'ند']; 
            lastConjugationData.past = pastEndings.map(e => nounPart + pastStem + e); 
            lastConjugationData.present = presentEndings.map(e => (nounPart ? nounPart + 'می‌' : 'می‌') + presentStem + e); 
            lastConjugationData.imperative = generateImperative(verbPart, presentStem, nounPart, isCompound); 
            displayTable(lastConjugationData); 
            return true; 
        }

        function generateImperative(verbPart, presentStem, nounPart, isCompound) { let s, p; if (verbPart === 'داشتن') { s = 'داشته باش'; p = 'داشته باشید'; } else if (verbPart === 'بودن') { s = 'باش'; p = 'باشید'; } else if (verbPart === 'آمدن') { s = 'بیا'; p = 'بیایید'; } else { s = (isCompound || presentStem.startsWith('آ')) ? presentStem : `ب${presentStem}`; p = (isCompound || presentStem.startsWith('آ')) ? presentStem + 'ید' : `ب${presentStem}ید`; } return ['', nounPart + s, '', '', nounPart + p, '']; }
        function displayTable(data) { elements.tableBody.innerHTML = ''; pronouns.forEach((p, i) => { const row = document.createElement('tr'); row.innerHTML = `<td class="pronoun-col">${p.fa}<br><small>(${p.ar})</small></td><td>${data.past[i]}</td><td>${data.present[i]}</td><td>${data.imperative[i] || '—'}</td>`; elements.tableBody.appendChild(row); }); showResults(true); }
        function generateSentences(tense) { const template = sentenceTemplates[lastConjugationData.infinitive] || sentenceTemplates.default; const verbs = lastConjugationData[tense]; let sentencesHTML = '<ul>'; pronouns.forEach((p, i) => { const persianSentence = `${p.fa} ${template.phrase} ${verbs[i]}`; let arabicTranslation; if (template.ar_verb && template.ar_verb[tense]) { const arabicVerb = template.ar_verb[tense][i]; arabicTranslation = `${p.ar} ${arabicVerb} ${template.ar_phrase}`; } else { arabicTranslation = `${p.ar} ... ${template.ar_phrase || ''}`; } sentencesHTML += `<li><span class="persian-text">${persianSentence.trim()}.</span> <span class="arabic-translation">(${arabicTranslation.trim()})</span></li>`; }); sentencesHTML += '</ul>'; elements.sentencesContainer.innerHTML = sentencesHTML; elements.sentencesContainer.style.display = 'block'; }
        
        function handleRequest(source) {
            let verb = source.value;
            verb = normalizePersianChars(verb).trim();
            if (!verb) return;
            
            toggleLoading(true);
            
            // ** تحديد صلاحية الوصول لميزة الجمل **
            sentenceAccessGranted = (source.id === 'verb-select');

            setTimeout(() => {
                const { correctedVerb, wasCorrected } = autoCorrect(verb);
                if (wasCorrected) {
                    elements.correctionNotice.innerHTML = `هل تقصد <strong class="persian-text">"${correctedVerb}"</strong>؟ تم التصحيح تلقائيًا.`;
                    elements.correctionNotice.style.display = 'block';
                    verb = correctedVerb;
                    source.value = verb;
                } else {
                    elements.correctionNotice.style.display = 'none';
                }

                if (source.id === 'verb-input') { elements.verbSelect.value = ''; } else { elements.verbInput.value = ''; }
                
                conjugate(verb);
                
                toggleLoading(false);
            }, 50);
        }

        // --- INIT & EVENT LISTENERS ---
        document.addEventListener('DOMContentLoaded', () => {
            const allVerbs = Object.keys(verbStems).sort((a, b) => a.localeCompare(b, 'fa'));
            let optionsHtml = '<option value="">-- اختر فعلاً من القائمة --</option>';
            allVerbs.forEach(verb => { const meaning = verbMeanings[verb] || ''; optionsHtml += `<option value="${verb}">${verb} (${meaning})</option>`; });
            elements.verbSelect.innerHTML = optionsHtml;
            
            elements.verbSelect.addEventListener('change', () => handleRequest(elements.verbSelect));
            elements.conjugateBtn.addEventListener('click', () => handleRequest(elements.verbInput));
            
            elements.verbInput.addEventListener('input', (e) => {
                const originalValue = e.target.value;
                const normalizedValue = normalizePersianChars(originalValue);
                if (originalValue !== normalizedValue) {
                    const cursorPos = e.target.selectionStart;
                    e.target.value = normalizedValue;
                    e.target.setSelectionRange(cursorPos, cursorPos);
                }
            });

            elements.verbInput.addEventListener('keypress', (e) => { if (e.key === "Enter") { e.preventDefault(); handleRequest(elements.verbInput); } });
            
            // ** إضافة منطق التحقق من صلاحية الوصول عند النقر **
            elements.pastExamplesBtn.addEventListener('click', () => {
                if (sentenceAccessGranted) {
                    generateSentences('past');
                } else {
                    alert("هذه الميزة مخصصة للأفعال الموجودة في القائمة فقط.");
                }
            });
            elements.presentExamplesBtn.addEventListener('click', () => {
                if (sentenceAccessGranted) {
                    generateSentences('present');
                } else {
                    alert("الميزة مخصصة للأفعال في القائمة فقط.");
                }
            });
        });
    </script>
</body>
</html>
